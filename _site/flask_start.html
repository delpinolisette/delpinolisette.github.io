<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Python and Flash Quick Start</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="Python and Flash Quick Start" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="http://localhost:4000/flask_start.html" />
<meta property="og:url" content="http://localhost:4000/flask_start.html" />
<script type="application/ld+json">
{"@type":"WebPage","headline":"Python and Flash Quick Start","url":"http://localhost:4000/flask_start.html","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/"></a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a><a class="page-link" href="/flask_py_translate_api.html">GoogleAPI Translate, Python, and Flask Tutprial</a><a class="page-link" href="/myblog/flask_py_translate_api.html">GoogleAPI Translate, Python, and Flask Tutprial</a><a class="page-link" href="/myblog/flask_start.html">Python and Flash Quick Start</a><a class="page-link" href="/flask_start.html">Python and Flash Quick Start</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        
<h3 id="full-stack-python-web-applications-with-flask-and-sqlalchemy-by-lisette-del-pino">Full Stack Python Web Applications with Flask and SQLAlchemy by Lisette del Pino</h3>

<p>These are instructions for getting a Python web app up and running quickly with Flask. <strong>On Windows!!</strong> On MacOS/ Linux, commands differ slightly but can be easily found online.</p>

<p>Why Flask? A micro web framework written in Python. It’s doesn’t have a database abstraction layer or form validation, but it is quick and easy!
Also it was written in 2010 by Armin Ronacher (at a very young age!).</p>

<p>Steps: as of 2020-07-08 16:13:</p>

<h3 id="step-1-setting-up-virtualenv-and-installing-packages"><strong>Step 1: Setting Up Virtualenv and Installing Packages:</strong></h3>
<ol>
  <li>make sure Python 3+ installed with <code class="language-plaintext highlighter-rouge">python -V</code></li>
  <li>install <code class="language-plaintext highlighter-rouge">pip</code> if you don’t have it.</li>
  <li>If you don’t have <code class="language-plaintext highlighter-rouge">virtualenv</code>, with pip, <code class="language-plaintext highlighter-rouge">pip3 install virtualenv</code>, so that your packages are installed locally, in your virtual environment, rather than globally. This is better for code portability and collaboration.</li>
  <li>Make a virtual environment with <code class="language-plaintext highlighter-rouge">virtualenv env</code> (you can name the <code class="language-plaintext highlighter-rouge">env</code> whatever you want, but I stick with env)</li>
  <li>Select source with <code class="language-plaintext highlighter-rouge">env\Scripts\activate</code>, make sure you are running Powershell\CMD\WSL with admin privileges! You should be inside <code class="language-plaintext highlighter-rouge">env</code> now.</li>
  <li>Now, inside your virtual environment, you can start installing libraries. Go ahead and  <code class="language-plaintext highlighter-rouge">pip3 install flask flask-sqlalchemy</code></li>
</ol>

<h3 id="step-2-writing-your-application-"><strong>Step 2: Writing Your Application :</strong></h3>
<ol>
  <li>Make a .py file, <code class="language-plaintext highlighter-rouge">MyApp.py</code></li>
  <li>Inside <code class="language-plaintext highlighter-rouge">MyApp.py</code>:</li>
  <li>Import Flask</li>
  <li>refer to the app. with <code class="language-plaintext highlighter-rouge">MyApp = Flask(__name__)</code></li>
  <li>Set up routes, first, the index.</li>
  <li>Define the function for route. (Right now it’s just “Hello World”)</li>
  <li>In development, set debug = true. This will show any errors.</li>
  <li>Steps 2-7 are summarized here:</li>
</ol>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span>

<span class="n">MyApp</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>

<span class="o">@</span><span class="n">MyApp</span><span class="p">.</span><span class="n">route</span><span class="p">(</span><span class="s">'/'</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">index</span><span class="p">():</span>
  <span class="k">return</span> <span class="s">"Hello World"</span>
  <span class="c1"># remember to be consistent with your spacing.
</span>  <span class="c1"># I chose 2 spaces.
</span>
<span class="k">if</span> <span class="n">__name__</span><span class="o">==</span> <span class="s">"__main__"</span><span class="p">:</span>
  <span class="n">MyApp</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">debug</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
</code></pre></div></div>

<ol>
  <li>make sure you’re still in <code class="language-plaintext highlighter-rouge">(env)</code> and run your code with <code class="language-plaintext highlighter-rouge">py MyApp.py</code>.</li>
  <li>Navigate to <code class="language-plaintext highlighter-rouge">localhost:5000</code> to see your app.</li>
  <li>Congratulations! You’re up and running !</li>
</ol>

<h3 id="step-3-customizing-your-app"><strong>Step 3: Customizing your app:</strong></h3>

<ol>
  <li>It’s a good idea to use templates and html inheritance - Don’t Repeat Yourself. Make a <code class="language-plaintext highlighter-rouge">templates</code> folder, and a <code class="language-plaintext highlighter-rouge">static</code> folder.
    <ul>
      <li>Template will live in the former and css/static content will live in the latter.</li>
    </ul>
  </li>
  <li>import <code class="language-plaintext highlighter-rouge">render_template</code> in <code class="language-plaintext highlighter-rouge">MyApp.py</code></li>
  <li>Once imported, you can go into the <code class="language-plaintext highlighter-rouge">index()</code> function and call <code class="language-plaintext highlighter-rouge">render_template('index.html')</code> from your templates folder. After running your app, the homepage shold be updated. Now you know how to inject a template!</li>
</ol>

<h3 id="step-3b-html-inheritance-"><strong>Step 3b: HTML Inheritance :</strong></h3>
<ol>
  <li>Let’s make a template that is inherited by any other pages in the site we wish:
    <ul>
      <li>Go to <code class="language-plaintext highlighter-rouge">templates</code> folder and make a <code class="language-plaintext highlighter-rouge">base.html</code> file.</li>
      <li>Write boilerplate html into your <code class="language-plaintext highlighter-rouge">base.html</code>. Good source for this is: <a href="http://htmlshell.com/">html shell</a></li>
      <li>Now let’s use Jinja2 syntax, full documentation <a href="https://jinja.palletsprojects.com/en/2.11.x/">here</a>, since it’s based off Django templating. (Also, it’s the template engine for Flask!)</li>
      <li>insert <code class="language-plaintext highlighter-rouge">{% block head %}{% endblock %}</code> before end of head tag.</li>
      <li>insert <code class="language-plaintext highlighter-rouge">{% block body %}{% endblock %}</code> before end of body tag.</li>
      <li>Between these, this will be where content is inserted.</li>
    </ul>
  </li>
  <li>Your <code class="language-plaintext highlighter-rouge">base.html</code> should now resemble this:</li>
</ol>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
  <span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
    {% block head %}{% endblock %}
  <span class="nt">&lt;/head&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    {% block body %}{% endblock %}
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<ol>
  <li>Now navigate back to <code class="language-plaintext highlighter-rouge">index.html</code> and clear it so that you can inherit from <code class="language-plaintext highlighter-rouge">base.html</code>.</li>
  <li>Extend base by writing <code class="language-plaintext highlighter-rouge">{% extends `base.html` %}</code> (Don’t forget single quotes.)</li>
  <li>Next, inject your styling into base by writing <code class="language-plaintext highlighter-rouge">{% block head %} &lt;p&gt; your content here&lt;/p&gt; {% endblock %}</code> and similarly, <code class="language-plaintext highlighter-rouge">{% block body %} &lt;p&gt; your content here&lt;/p&gt; {% endblock %}</code></li>
  <li>Now your <code class="language-plaintext highlighter-rouge">index.html</code> template should be:</li>
</ol>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{% extends `base.html`%}
{% block head %}
<span class="nt">&lt;h1&gt;</span>This is my head!<span class="nt">&lt;/h1&gt;</span>
{% endblock %}
{% block body %}
<span class="nt">&lt;p&gt;</span>And this is my body...<span class="nt">&lt;/p&gt;</span>
{% endblock %}
</code></pre></div></div>

<p>&amp;. Run your server and make sure the changes took effect.</p>

<h3 id="step-4-static-content-and-css-"><strong>Step 4: Static Content and CSS :</strong></h3>
<ol>
  <li>To use Custom CSS, in the <code class="language-plaintext highlighter-rouge">static</code> folder, make a <code class="language-plaintext highlighter-rouge">css</code> subfolder and a <code class="language-plaintext highlighter-rouge">main.css</code> file inside the subfolder. Write your CSS here.(go wild!)</li>
  <li>To link this stylesheet with your web app, go to <code class="language-plaintext highlighter-rouge">base.html</code> and :
    <ul>
      <li>in <code class="language-plaintext highlighter-rouge">&lt;head&gt;&lt;/head&gt;</code> before <code class="language-plaintext highlighter-rouge">{% block head.....}</code> syntax, insert <code class="language-plaintext highlighter-rouge">&lt;link rel = "stylesheet" href=""&gt;</code> and use <code class="language-plaintext highlighter-rouge">url_for</code> for the href argument. So:</li>
      <li>We can’t exactly hardcode a path to the stylesheet, use <code class="language-plaintext highlighter-rouge">url_for</code> function by :
        <ul>
          <li>importing <code class="language-plaintext highlighter-rouge">url_for</code> from Flask with <code class="language-plaintext highlighter-rouge">from flask import url_for</code></li>
          <li>since we’re looking for the <code class="language-plaintext highlighter-rouge">static</code> endpoint, we will use <code class="language-plaintext highlighter-rouge">url_for('static', filename = 'path for main css inside static')</code>, so we write …</li>
        </ul>
      </li>
      <li><code class="language-plaintext highlighter-rouge">&lt;link rel = "stylesheet" href="url_for('static', filename = 'css/main.css')"&gt;</code></li>
    </ul>
  </li>
  <li>For JavaScript files, it’s the same protocol.</li>
</ol>

<h3 id="step-5-http-requests">**Step 5: HTTP Requests</h3>
<ol>
  <li>to use HTTP requests, first learn the general structure of one!
    <ul>
      <li>skim <a href="https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol">this</a></li>
      <li>you will probably focus on using <code class="language-plaintext highlighter-rouge">GET</code>, <code class="language-plaintext highlighter-rouge">POST</code>, <code class="language-plaintext highlighter-rouge">PUT</code>, <code class="language-plaintext highlighter-rouge">DELETE</code></li>
    </ul>
  </li>
  <li>import requests</li>
</ol>

<h3 id="step-6-forms"><strong>Step 6: Forms</strong></h3>
<ol>
  <li>To have forms on your web app, install Flask-WTF for forms.
    <ul>
      <li>in order to do this, when inside your <code class="language-plaintext highlighter-rouge">env</code>, install by <code class="language-plaintext highlighter-rouge">pip3 install flask-wtf</code></li>
      <li><em>optional</em> :if you have the time, read the source code, especially <code class="language-plaintext highlighter-rouge">form.py</code> - enlightening to see how the FlaskForm class was written! This step is completely optional.</li>
      <li><em>optional</em>: if you have the time, read the source code for <code class="language-plaintext highlighter-rouge">wtforms</code> as well, especially <code class="language-plaintext highlighter-rouge">\fields\core.py</code> for a look at how the fields <code class="language-plaintext highlighter-rouge">StringField, PasswordField</code>, etc, were created! Completely optional step, just for the nerds.</li>
    </ul>
  </li>
  <li>Now you need to store a <code class="language-plaintext highlighter-rouge">SECRET KEY</code>. :
    <ul>
      <li>It’s good practice to have a separate configuration page for all your variables, but since this is presumably your first Flask app, and is probably not going into production, go ahead and write it in <code class="language-plaintext highlighter-rouge">MyApp.py</code> for simplicity.</li>
      <li>Under <code class="language-plaintext highlighter-rouge">MyApp = Flask(__name__)</code>, write: <code class="language-plaintext highlighter-rouge">app.config['SECRET KEY'] = 'veryGoodSecretHashOfYourChoice'</code>. If you can, generate it randomly!</li>
    </ul>
  </li>
  <li>Form Creation:
    <ul>
      <li>You need a class representing the model for your form, so I recommend creating a <code class="language-plaintext highlighter-rouge">forms.py</code> file/module.</li>
      <li>Remember my class and variable names are merely educational, do not name your variables/classes the same way - use descriptive, useful names.</li>
      <li>In <code class="language-plaintext highlighter-rouge">forms.py</code>, :</li>
    </ul>
    <ul>
      <li>import flask-wtf and wtform fields with:
        <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kn">from</span> <span class="nn">flask_wtf</span> <span class="kn">import</span> <span class="n">FlaskForm</span>
 <span class="kn">from</span> <span class="nn">wtforms</span> <span class="kn">import</span> <span class="n">StringField</span><span class="p">,</span> <span class="n">PasswordField</span><span class="p">,</span> <span class="n">SubmitField</span> <span class="c1"># put any field types you need here!
</span></code></pre></div>        </div>
      </li>
      <li>create a class form model by :
        <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="k">class</span> <span class="nc">GoodNameForForm</span><span class="p">(</span><span class="n">FlaskForm</span><span class="p">):</span>
 <span class="c1"># specify fields you need here! make sure you've imported them.
</span> <span class="n">username</span> <span class="o">=</span> <span class="n">StringField</span><span class="p">(</span><span class="s">'username'</span><span class="p">)</span>
 <span class="n">password</span> <span class="o">=</span> <span class="n">PasswordField</span><span class="p">(</span><span class="s">'password'</span><span class="p">)</span>
 <span class="n">submit</span> <span class="o">=</span> <span class="n">SubmitField</span><span class="p">(</span><span class="s">'Submit'</span><span class="p">)</span>
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li>Now that we’ve created a model class for the form, we need to render the HTML / view for it. Let’s stick with our habit of separating concerns and using HTML inheritance.
    <ul>
      <li>First, make a separate HTML file to handle the form. Call it, with an appropriate, corresponding, name!!, <code class="language-plaintext highlighter-rouge">myform.html</code></li>
      <li>Next, inherit from the base html (or whatever you want to inherit from), and craft your form in your preferred way, using Jinja2 to render the strings with <code class="language-plaintext highlighter-rouge">{{...}}</code> , and remembering to render head, render body, endblock, etc commands as above :</li>
    </ul>

    <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   <span class="nt">&lt;form</span> <span class="na">action=</span><span class="s">""</span> <span class="na">method=</span><span class="s">"post"</span><span class="nt">&gt;</span>
     <span class="nt">&lt;p&gt;</span>
     {{form.username.label}}<span class="nt">&lt;br&gt;</span>
     {{form.username(size=30)}}
     <span class="nt">&lt;/p&gt;</span>
     <span class="nt">&lt;p&gt;</span>
     {{form.password.label}}<span class="nt">&lt;br&gt;</span>
     {{form.password(size=30)}}
     <span class="nt">&lt;/p&gt;</span>
     <span class="nt">&lt;p&gt;</span>
     {{form.submit()}}
     <span class="nt">&lt;/p&gt;</span>
 <span class="nt">&lt;/form&gt;</span>
</code></pre></div>    </div>
  </li>
  <li>Now that you’ve created the view, you actually want to render the template from your “controller”. Head back to <code class="language-plaintext highlighter-rouge">MyApp.py</code>.
    <ul>
      <li>First, import your module so you can use it with <code class="language-plaintext highlighter-rouge">from forms import  </code></li>
      <li>Here in <code class="language-plaintext highlighter-rouge">MyApp.py</code>, create a route that takes you to your form. Use an appropriate name. ex:
        <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="c1"># creates the new route and defines the function to run
</span>  <span class="o">@</span><span class="n">app</span><span class="p">.</span><span class="n">route</span><span class="p">(</span><span class="s">'/register'</span><span class="p">)</span>
  <span class="c1"># creates registration form
</span>  <span class="k">def</span> <span class="nf">register</span><span class="p">():</span>
 <span class="c1"># creates a form objects using the class we created before!
</span> <span class="n">form</span> <span class="o">=</span> <span class="n">GoodNameForForm</span><span class="p">()</span>
 <span class="c1"># render our form HTML template
</span> <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s">'myform.html'</span><span class="p">,</span> <span class="n">form</span><span class="o">=</span><span class="n">form</span><span class="p">)</span>
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
</ol>

<h3 id="databases-yessss"><strong>DATABASES!!!!!!! YESSSS!!!!</strong></h3>

<h3 id="sources-">Sources :</h3>
<ol>
  <li><a href="https://blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-iii-web-forms">In-depth Forms</a></li>
  <li><a href="https://www.youtube.com/watch?v=-O9NMdvWmE8">Forms</a></li>
  <li><a href="https://www.youtube.com/watch?v=f8qvLBvrIFI">Form data</a></li>
  <li><a href="https://www.youtube.com/watch?v=Z1RJmh_OqeA">Flask</a></li>
  <li><a href="https://stackoverflow.com/questions/25160134/how-does-flask-url-for-work">How does url_for even work?</a></li>
  <li>My brain</li>
</ol>


      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading"></h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name"></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"></ul>
</div>

      <div class="footer-col footer-col-3">
        <p></p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
